{% extends "base.html" %}

{% block content %}
<h1>上传文件</h1>

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div style="margin-bottom: 15px;">
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}" style="padding: 10px; margin-bottom: 5px; 
                    {% if category == 'error' %}background-color: #f8d7da; color: #721c24;{% endif %}
                    {% if category == 'success' %}background-color: #d4edda; color: #155724;{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<form method="post" enctype="multipart/form-data">
    <input type="hidden" name="parent_id" value="{{ parent_id or '' }}">
    <div style="margin-bottom: 15px;">
        <label for="file">选择文件:</label>
        <input type="file" name="file" id="file" required>
    </div>
    <div style="margin-bottom: 15px;">
        <small>支持的文件类型: txt, pdf, png, jpg, jpeg, gif, doc, docx, xls, xlsx, ppt, pptx, zip, rar</small>
        <br>
        <small>最大文件大小: 16MB</small>
    </div>
    <div>
        <button type="submit">上传</button>
        <a href="{{ url_for('file.file_list', folder_id=parent_id) }}">
            <button type="button">取消</button>
        </a>
    </div>
</form>
{% endblock %}

